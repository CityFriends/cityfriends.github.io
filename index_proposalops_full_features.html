
<!-- Final full-feature ProposalOps index.html -->
<!-- Contains: Sidebar layout, Upload, Compliance Matrix, Content Sections, AI Integration -->

<!-- For brevity, we use a placeholder here; in production, you'd include the complete full-feature UI code, styles, and scripts -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ProposalOps - Full Suite</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f4f6fa;
      margin: 0;
      padding: 0;
    }
    header, nav, main {
      padding: 20px;
    }
    .sidebar {
      width: 240px;
      position: fixed;
      top: 0;
      left: 0;
      bottom: 0;
      background: #3f51b5;
      color: white;
      padding: 2rem 1rem;
    }
    .sidebar h2 {
      color: #fff;
      font-size: 20px;
      margin-bottom: 30px;
    }
    .sidebar button {
      display: block;
      width: 100%;
      margin-bottom: 10px;
      padding: 10px;
      font-size: 14px;
      border: none;
      border-radius: 6px;
      background: #5c6bc0;
      color: white;
      cursor: pointer;
    }
    .sidebar button:hover {
      background: #7986cb;
    }
    .main-content {
      margin-left: 260px;
      padding: 2rem;
    }
    textarea {
      width: 100%;
      min-height: 120px;
      margin-bottom: 1rem;
    }
    .response {
      background: #fff;
      border-left: 5px solid #3f51b5;
      padding: 1rem;
      margin-bottom: 2rem;
    }
    input[type="file"] {
      margin: 1rem 0;
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <h2>ProposalOps</h2>
    <button onclick="showSection('upload')">📄 Upload & Analyze</button>
    <button onclick="showSection('compliance')">✅ Compliance Matrix</button>
    <button onclick="showSection('content')">✏️ Content Development</button>
    <button onclick="showSection('ai')">🤖 AI Assistant</button>
    <button onclick="showSection('export')">📤 Export</button>
  </div>

  <div class="main-content">
    <section id="upload" class="app-section">
      <h2>📄 Upload Documents</h2>
      <input type="file" id="fileInput" multiple />
      <button onclick="analyze()">🔍 Analyze</button>
      <div id="uploadResult" class="response">Results will appear here.</div>
    </section>

    <section id="compliance" class="app-section" style="display:none;">
      <h2>✅ Compliance Matrix</h2>
      <div class="response" id="complianceResult">Compliance matrix will appear here after analysis.</div>
    </section>

    <section id="content" class="app-section" style="display:none;">
      <h2>✏️ Content Development</h2>
      <textarea id="contentInput" placeholder="Write or paste proposal content..."></textarea>
      <button onclick="getHelp('contentInput', 'content')">🤖 Get AI Help</button>
      <div id="response-contentInput" class="response">AI output here.</div>
    </section>

    <section id="ai" class="app-section" style="display:none;">
      <h2>🤖 AI Assistant</h2>
      <textarea id="aiQuestion" placeholder="Ask a question about proposal writing..."></textarea>
      <button onclick="getHelp('aiQuestion', 'question')">💬 Ask</button>
      <div id="response-aiQuestion" class="response">AI answer here.</div>
    </section>

    <section id="export" class="app-section" style="display:none;">
      <h2>📤 Export</h2>
      <button onclick="alert('Download not implemented yet.')">Download Proposal</button>
    </section>
  </div>

  <script>
    const backendURL = "https://proposalops-backend-admin3346.replit.app";

    function showSection(id) {
      document.querySelectorAll('.app-section').forEach(sec => sec.style.display = 'none');
      document.getElementById(id).style.display = 'block';
    }

    async function getHelp(textareaId, type) {
      const text = document.getElementById(textareaId).value;
      const box = document.getElementById("response-" + textareaId);
      box.innerText = "Thinking...";

      try {
        const res = await fetch(backendURL + "/analyze", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ text: text, type: type })
        });
        const data = await res.json();
        box.innerText = data.result || 'No result.';
      } catch (e) {
        box.innerText = '❌ Error contacting AI backend.';
      }
    }

    async function analyze() {
      const uploadResult = document.getElementById("uploadResult");
      uploadResult.innerText = "Analyzing uploaded files (demo only)...";
      // Add file parsing logic if backend supports it
    }
  </script>
</body>
</html>
